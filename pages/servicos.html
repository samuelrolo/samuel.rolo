<!DOCTYPE html>
<html lang="pt-PT">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serviços | Share2Inspire | Samuel Rolo</title>
    <meta name="description"
        content="Serviços de consultoria, coaching e transformação organizacional por Samuel Rolo. Kickstart Pro, consultoria organizacional e coaching executivo.">

    <!-- Favicon -->
    <link rel="icon" href="../images/favicon.png" type="image/png">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <!-- Header & Footer Shared CSS -->
    <link href="../css/header-footer.css" rel="stylesheet">

    <style>
        /* Estilos para a página de serviços */
        .page-header {
            background-color: #f8f9fa;
            padding: 100px 0 50px;
            margin-bottom: 50px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }

        .breadcrumb {
            background-color: transparent;
            padding: 0;
            margin: 0;
        }

        .breadcrumb-item a {
            color: #BF9A33;
            text-decoration: none;
        }

        .breadcrumb-item.active {
            color: #6c757d;
        }

        .service-section {
            padding: 80px 0;
        }

        .service-section.bg-light {
            background-color: #f8f9fa;
        }

        .service-content h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .service-tagline {
            font-size: 1.2rem;
            color: #BF9A33;
            margin-bottom: 1.5rem;
        }

        .service-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .service-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin: 1.5rem 0 1rem;
        }

        .service-benefits {
            list-style: none;
            padding: 0;
            margin: 0 0 1.5rem;
        }

        .service-benefits li {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: flex-start;
        }

        .service-benefits li i {
            color: #BF9A33;
            margin-right: 10px;
            margin-top: 5px;
        }

        .service-image img {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
            background-color: #BF9A33;
            color: #fff;
        }

        .modal-title {
            font-weight: 600;
        }

        .modal-body label {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .modal-footer .btn-primary {
            background-color: #BF9A33;
            border-color: #BF9A33;
        }

        .modal-footer .btn-primary:hover {
            background-color: #a88629;
            border-color: #a88629;
        }

        /* Media queries para otimização mobile */
        @media (max-width: 992px) {
            .service-content h2 {
                font-size: 2rem;
            }

            .service-tagline {
                font-size: 1.1rem;
            }

            .service-content h3 {
                font-size: 1.3rem;
            }

            .service-section {
                padding: 60px 0;
            }
        }

        @media (max-width: 768px) {
            .page-header {
                padding: 80px 0 40px;
                margin-bottom: 30px;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .service-section {
                padding: 40px 0;
            }

            .service-content {
                margin-top: 30px;
            }

            .service-content h2 {
                font-size: 1.8rem;
                text-align: center;
            }

            .service-tagline {
                font-size: 1rem;
                text-align: center;
            }

            .service-content h3 {
                font-size: 1.2rem;
            }

            .service-benefits li {
                margin-bottom: 0.8rem;
            }

            /* Ajuste para ordem dos elementos em mobile */
            .order-lg-1 {
                order: 2;
            }

            .order-lg-2 {
                order: 1;
                margin-bottom: 30px;
            }
        }

        @media (max-width: 576px) {
            .page-header {
                padding: 70px 0 30px;
            }

            .page-header h1 {
                font-size: 1.8rem;
            }

            .service-section {
                padding: 30px 0;
            }

            .service-content h2 {
                font-size: 1.6rem;
            }

            .service-tagline {
                font-size: 0.9rem;
            }

            .service-content p {
                font-size: 0.95rem;
            }

            .service-content h3 {
                font-size: 1.1rem;
            }

            .service-benefits li {
                font-size: 0.9rem;
            }

            .btn {
                width: 100%;
                margin-bottom: 10px;
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>

<body>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8GQ1KM9FQS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-8GQ1KM9FQS');
    </script>

    <!-- Header e Navegação -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <img src="../images/logo.png" alt="Share2Inspire Logo" height="40">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">Início</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sobre.html">Sobre o Fundador</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="servicos.html">Serviços</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="loja.html">Loja</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="humanos-maquinas.html">Humanos &amp; Máquinas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="people-hub.html">People Hub</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contactos">Contactos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Serviços</h1>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="../index.html">Início</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Serviços</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <!-- Kickstart Pro Section -->
    <section class="service-section" id="kickstart">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-12">
                    <div class="service-content">
                        <h2>Kickstart Pro | Express Coaching </h2>
                        <p class="service-tagline">Impulsiona a tua carreira com uma sessão personalizada</p>
                        <p>O Kickstart Pro é uma sessão de coaching personalizada às tuas necessidades, desenhada para
                            impulsionar jovens em início de carreira.</p>
                        <p>Durante esta sessão, vamos trabalhar contigo para identificar os principais desafios e
                            oportunidades, desenvolver um plano de ação claro e fornecer ferramentas e técnicas
                            específicas para ti.</p>
                        <h3>Benefícios:</h3>
                        <ul class="service-benefits">
                            <li><i class="fas fa-check"></i> Clareza sobre os próximos passos estratégicos</li>
                            <li><i class="fas fa-check"></i> Soluções práticas para desafios específicos</li>
                            <li><i class="fas fa-check"></i> Plano de ação personalizado e implementável</li>
                            <li><i class="fas fa-check"></i> Acesso a ferramentas e metodologias comprovadas</li>
                            <li><i class="fas fa-check"></i> Acompanhamento pós-sessão para garantir resultados</li>
                        </ul>
                        <button class="btn btn-primary mt-4" data-bs-toggle="modal"
                            data-bs-target="#kickstartModal">Marcar Kickstart Pro</button>
                    </div>
                </div>
                <div class="col-lg-6 col-md-12">
                    <div class="service-image">
                        <img src="../images/kickstart-pro.jpg" alt="Kickstart Pro" class="img-fluid rounded">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Revisão de CV Section -->
    <section class="service-section" id="revisao-cv">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-12">
                    <div class="service-content">
                        <h2>Revisão de CV</h2>
                        <p class="service-tagline">Potencia o teu currículo e destaca-te no mercado de trabalho</p>
                        <p>A Revisão de CV é um serviço focado em otimizar a tua apresentação profissional, garantindo
                            que o teu currículo reflete o teu verdadeiro valor e potencial.</p>
                        <p>Analisamos detalhadamente o teu CV atual e fornecemos feedback construtivo e sugestões de
                            melhoria para aumentar as tuas hipóteses de sucesso.</p>
                        <h3>O que incluí:</h3>
                        <ul class="service-benefits">
                            <li><i class="fas fa-check"></i> Análise estrutural e de conteúdo</li>
                            <li><i class="fas fa-check"></i> Otimização de palavras-chave para ATS</li>
                            <li><i class="fas fa-check"></i> Sugestões de design e formatação</li>
                            <li><i class="fas fa-check"></i> Feedback personalizado em vídeo ou escrito</li>
                            <li><i class="fas fa-check"></i> Dicas para adaptar o CV a diferentes oportunidades</li>
                        </ul>
                        <button class="btn btn-primary mt-4" data-bs-toggle="modal"
                            data-bs-target="#revisaoCvModal">Solicitar Revisão de CV</button>
                    </div>
                </div>
                <div class="col-lg-6 col-md-12">
                    <div class="service-image">
                        <img src="../images/revisao-cv.png" alt="Revisão de CV" class="img-fluid rounded">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Não encontraste o que procuravas?</h2>
                    <p>Entra em contacto connosco para desenharmos soluções personalizadas para os teus desafios.</p>
                    <a href="../index.html#contatos" class="btn btn-primary">Contacta-nos</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Kickstart Pro Modal -->
    <div class="modal fade" id="kickstartModal" tabindex="-1" aria-labelledby="kickstartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="kickstartModalLabel">Marcar Kickstart Pro</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="kickstartForm" class="service-form">
                        <input type="hidden" name="service" value="Kickstart Pro">
                        <input type="hidden" name="paymentMethod" value="mbway">
                        <!-- Campo oculto rating -->
                        <input type="hidden" name="rating" value="5">

                        <div class="row">
                            <div class="col-md-12">
                                <p class="alert alert-info"><i class="fas fa-info-circle"></i> O Kickstart Pro tem um
                                    custo de <strong>30.00€</strong>. O pagamento será solicitado via MB WAY após o
                                    envio deste formulário.</p>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="kickstartName" class="form-label">Nome Completo *</label>
                                    <input type="text" class="form-control" id="kickstartName" name="name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="kickstartEmail" class="form-label">Email *</label>
                                    <input type="email" class="form-control" id="kickstartEmail" name="email" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="kickstartPhone" class="form-label">Telemóvel (MB WAY) *</label>
                                    <input type="tel" class="form-control" id="kickstartPhone" name="phone" required
                                        placeholder="912345678">
                                </div>
                                <div class="mb-3">
                                    <label for="kickstartExperience" class="form-label">Experiência Profissional</label>
                                    <select class="form-select" id="kickstartExperience" name="experience">
                                        <option value="Estudante">Estudante</option>
                                        <option value="0-2 anos">0-2 anos</option>
                                        <option value="3-5 anos">3-5 anos</option>
                                        <option value="6-10 anos">6-10 anos</option>
                                        <option value="10+ anos">10+ anos</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="kickstartObjectives" class="form-label">Quais são os teus principais objetivos
                                para esta sessão? *</label>
                            <textarea class="form-control" id="kickstartObjectives" name="objectives" rows="4"
                                required></textarea>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="kickstartTerms" required>
                            <label class="form-check-label" for="kickstartTerms">Concordo com a <a
                                    href="politica-privacidade.html" target="_blank">Política de Privacidade</a>
                                *</label>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Pagar e Agendar (MB WAY)</button>
                        <div id="kickstartFormMessage" class="mt-3"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Revisão de CV Modal -->
    <div class="modal fade" id="revisaoCvModal" tabindex="-1" aria-labelledby="revisaoCvModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="revisaoCvModalLabel">Solicitar Revisão de CV Profissional</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> Prazo de entrega: <strong>5 dias úteis</strong>. Preço:
                        <strong>15.00€</strong> (Pagamento MB WAY).
                    </div>

                    <form id="revisaoCvForm" class="service-form" enctype="multipart/form-data">
                        <input type="hidden" name="service" value="Revisão de CV">
                        <input type="hidden" name="amount" value="15.00">

                        <!-- Dados Pessoais e CV -->
                        <h6 class="mb-3 border-bottom pb-2">1. O teu Currículo</h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="cvFile" class="form-label">Upload CV (PDF/Word) *</label>
                                <input type="file" class="form-control" id="cvFile" name="cv_file"
                                    accept=".pdf,.doc,.docx" required>
                                <div class="form-text">Máximo 5MB. Apenas PDF ou Word.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="linkedinUrl" class="form-label">Perfil LinkedIn</label>
                                <input type="url" class="form-control" id="linkedinUrl" name="linkedin_url"
                                    placeholder="https://linkedin.com/in/...">
                            </div>
                        </div>

                        <!-- Análise Inteligente (Simulação) -->
                        <!-- Análise Inteligente (Simulação Melhorada) -->
                        <div class="card border-0 shadow-sm mb-4"
                            style="background: linear-gradient(to right, #f8f9fa, #e9ecef); border-radius: 12px; overflow: hidden;">
                            <div class="card-body p-4">
                                <h6 class="card-title fw-bold text-primary mb-3">
                                    <i class="fas fa-robot me-2"></i>AI Smart Scan <span
                                        class="badge bg-primary rounded-pill small"
                                        style="font-size: 0.6em; vertical-align: top;">BETA</span>
                                </h6>
                                <p class="small text-muted mb-3">O nosso algoritmo vai analisar a estrutura do
                                    teu ficheiro e os dados do teu perfil para identificar oportunidades
                                    imediatas.</p>

                                <div id="analysisSection">
                                    <button type="button" class="btn btn-primary w-100 rounded-pill" id="btnAnalyzeCV">
                                        <i class="fas fa-microscope me-2"></i> Analisar o meu CV Agora
                                    </button>
                                </div>

                                <!-- Loading Animation -->
                                <div id="analysisLoading" style="display: none;" class="text-center py-3">
                                    <div class="d-flex justify-content-center align-items-center mb-2">
                                        <div class="spinner-border text-primary" role="status"
                                            style="width: 2rem; height: 2rem;"></div>
                                    </div>
                                    <p class="small text-muted" id="loadingText">A ler ficheiro...</p>
                                </div>

                                <!-- Results -->
                                <div id="analysisResults" style="display: none;" class="mt-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <strong class="me-auto text-dark">Resultado da Análise
                                            Preliminar</strong>
                                        <span class="badge bg-success rounded-pill">Concluído</span>
                                    </div>

                                    <div class="progress mb-3" style="height: 8px; border-radius: 4px;">
                                        <div class="progress-bar bg-warning progress-bar-striped progress-bar-animated"
                                            role="progressbar" style="width: 70%;" aria-valuenow="70" aria-valuemin="0"
                                            aria-valuemax="100"></div>
                                    </div>

                                    <div class="bg-white p-3 rounded shadow-sm border">
                                        <p class="mb-2 small"><strong><i
                                                    class="fas fa-file-alt text-secondary me-2"></i>Ficheiro:</strong>
                                            <span id="resFileName" class="text-muted">...</span>
                                        </p>

                                        <div id="dynamicFeedbackList" class="small">
                                            <!-- Feedback dinâmico entra aqui -->
                                        </div>
                                    </div>
                                    <p class="small text-muted mt-2 fst-italic"><i
                                            class="fas fa-check-double text-primary me-1"></i> A revisão
                                        profissional completa (após pagamento) irá aprofundar estes pontos.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Dados Profissionais -->
                        <h6 class="mb-3 border-bottom pb-2">2. O teu Perfil</h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="revisaoCvName" class="form-label">Nome Completo *</label>
                                <input type="text" class="form-control" id="revisaoCvName" name="name" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="revisaoCvEmail" class="form-label">Email *</label>
                                <input type="email" class="form-control" id="revisaoCvEmail" name="email" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="revisaoCvPhone" class="form-label">Telemóvel (MB WAY) *</label>
                            <input type="tel" class="form-control" id="revisaoCvPhone" name="phone"
                                placeholder="912345678" required>
                        </div>

                        <!-- Características do Anúncio & Contexto -->
                        <h6 class="mb-3 border-bottom pb-2">3. O teu Objetivo & Contexto</h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="currentRole" class="form-label">Função Atual / Última</label>
                                <input type="text" class="form-control" id="currentRole" name="current_role"
                                    placeholder="Ex: Gestor de Marketing">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="sector" class="form-label">Setor de Atividade</label>
                                <input type="text" class="form-control" id="sector" name="sector"
                                    placeholder="Ex: Tecnologia, Saúde...">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 mb-3">
                                <label for="revisaoCvExperience" class="form-label">Anos de Experiência</label>
                                <select class="form-select" id="revisaoCvExperience" name="experience">
                                    <option value="Estudante">Estudante / Recém-Graduado</option>
                                    <option value="0-2 anos">0-2 anos (Júnior)</option>
                                    <option value="3-5 anos">3-5 anos (Mid-Level)</option>
                                    <option value="6-10 anos">6-10 anos (Sénior)</option>
                                    <option value="10+ anos">10+ anos (Expert)</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="adCharacteristics" class="form-label">Características do Anúncio /
                                Oportunidade
                                Alvo</label>
                            <textarea class="form-control" id="adCharacteristics" name="ad_characteristics" rows="3"
                                placeholder="Descreve a vaga ou o tipo de emprego que procuras (keywords, skills pedidas, etc.)"></textarea>
                            <div class="form-text">Isto ajuda-nos a alinhar o teu CV com o que os recrutadores
                                procuram.
                            </div>
                        </div>

                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="revisaoCvTerms" required>
                            <label class="form-check-label" for="revisaoCvTerms">Concordo com a <a
                                    href="politica-privacidade.html" target="_blank">Política de Privacidade</a>
                                *</label>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 btn-lg">
                            <i class="fas fa-lock"></i> Pagar e Solicitar (15.00€)
                        </button>
                        <div id="revisaoCvFormMessage" class="mt-3"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contactos">
        <div class="container">
            <div class="footer-container">
                <div class="footer-left">
                    <p>© 2025 Share2Inspire. Todos os direitos reservados.</p>
                </div>
                <div class="footer-right">
                    <div class="footer-contact">
                        <p><i class="fas fa-envelope"></i> srshare2inspire@gmail.com</p>
                        <p><i class="fas fa-phone"></i> +351 961 925 050</p>
                    </div>
                    <div class="footer-social">
                        <a href="https://www.linkedin.com/in/samuelrolo/" target="_blank"><i
                                class="fab fa-linkedin"></i></a>
                        <a href="https://www.instagram.com/share2inspire_" target="_blank"><i
                                class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-links">
                <a href="politica-privacidade.html">Política de Privacidade</a>
                <a href="politica-cookies.html">Política de Cookies</a>
                <a href="tratamento-dados.html">Tratamento de Dados</a>
                <a href="informacao-legal.html">Informação Legal</a>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Script para processamento dos formulários -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Processamento do formulário Kickstart Pro
            const kickstartForm = document.getElementById('kickstartForm');
            if (kickstartForm) {
                kickstartForm.addEventListener('submit', function (e) {
                    e.preventDefault();

                    const submitBtn = kickstartForm.querySelector('button[type="submit"]');
                    const formMessage = document.getElementById('kickstartFormMessage');
                    const formData = new FormData(kickstartForm);

                    // Dados para pagamento MB WAY
                    const paymentData = {
                        name: formData.get('name'),
                        email: formData.get('email'),
                        mobileNumber: formData.get('phone'),
                        amount: "30.00", // Valor fixo
                        orderId: 'KICK-' + Date.now(),
                        paymentMethod: 'mbway',
                        description: 'Kickstart Pro - ' + formData.get('name')
                    };

                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> A processar pagamento...';
                    formMessage.innerHTML = '';

                    // Iniciar Pagamento
                    fetch('https://share2inspire-beckend.lm.r.appspot.com/api/payment/mbway', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(paymentData)
                    })
                        .then(response => response.json())
                        .then(result => {
                            if (result.success) {
                                formMessage.innerHTML = `
                                <div class="alert alert-success">
                                    <h4><i class="fas fa-check-circle"></i> Pedido de Pagamento Enviado!</h4>
                                    <p>Por favor, aceite o pagamento de <strong>30.00€</strong> na sua aplicação MB WAY.</p>
                                    <hr>
                                    <p>Após confirmar o pagamento, clique abaixo para agendar a sua sessão:</p>
                                    <a href="https://calendar.app.google/8gzvyuiJoPyS6t9i7" target="_blank" class="btn btn-success w-100 mt-2">
                                        <i class="fas fa-calendar-alt"></i> Agendar Sessão Agora
                                    </a>
                                </div>
                            `;
                                // Ocultar botão de submit original
                                submitBtn.style.display = 'none';
                            } else {
                                throw new Error(result.error || 'Erro ao iniciar pagamento');
                            }
                        })
                        .catch(error => {
                            console.error('Erro:', error);
                            formMessage.innerHTML = `<div class="alert alert-danger">Erro: ${error.message}</div>`;
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = 'Tentar Novamente (MB WAY)';
                        });
                });
            }

            // Simulação de Análise Inteligente
            const btnAnalyze = document.getElementById('btnAnalyzeCV');
            const analysisResults = document.getElementById('analysisResults');

            if (btnAnalyze) {
                btnAnalyze.addEventListener('click', function () {
                    // Simular loading
                    const originalText = btnAnalyze.innerHTML;
                    btnAnalyze.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> A analisar...';
                    btnAnalyze.disabled = true;

                    setTimeout(() => {
                        btnAnalyze.innerHTML = originalText;
                        btnAnalyze.disabled = false;
                        analysisResults.style.display = 'block';

                        // Scroll para os resultados
                        analysisResults.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }, 2000); // 2 segundos de "análise"
                });
            }

            // Processamento do formulário Revisão de CV
            const revisaoCvForm = document.getElementById('revisaoCvForm');

            // --- AI SMART SCAN LOGIC ---
            const btnAnalyzeCV = document.getElementById('btnAnalyzeCV');
            if (btnAnalyzeCV) {
                btnAnalyzeCV.addEventListener('click', function () {
                    const cvFile = document.getElementById('cvFile').files[0];
                    const role = document.getElementById('currentRole').value;
                    const exp = document.getElementById('revisaoCvExperience').value;

                    if (!cvFile) {
                        alert("Por favor, carrega um ficheiro CV primeiro.");
                        return;
                    }

                    // UI States
                    const loadingDiv = document.getElementById('analysisLoading');
                    const resultsDiv = document.getElementById('analysisResults');
                    const analysisSection = document.getElementById('analysisSection');

                    if (analysisSection) analysisSection.style.display = 'none';
                    if (loadingDiv) loadingDiv.style.display = 'block';
                    if (resultsDiv) resultsDiv.style.display = 'none';

                    const formData = new FormData();
                    formData.append('cv_file', cvFile);
                    formData.append('current_role', role);
                    formData.append('experience', exp);

                    fetch('/api/services/analyze-cv', {
                        method: 'POST',
                        body: formData
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (loadingDiv) loadingDiv.style.display = 'none';
                            if (data.success && data.report) {
                                renderAnalysisResults(data.report, cvFile.name);
                                if (resultsDiv) resultsDiv.style.display = 'block';
                            } else {
                                alert("Erro na análise: " + (data.error || "Erro desconhecido"));
                                if (analysisSection) analysisSection.style.display = 'block';
                            }
                        })
                        .catch(err => {
                            if (loadingDiv) loadingDiv.style.display = 'none';
                            if (analysisSection) analysisSection.style.display = 'block';
                            console.error(err);
                            alert("Ocorreu um erro ao comunicar com o servidor.");
                        });
                });
            }

            function renderAnalysisResults(report, filename) {
                const fNameSpan = document.getElementById('resFileName');
                if (fNameSpan) fNameSpan.textContent = filename;

                const listContainer = document.getElementById('dynamicFeedbackList');
                if (!listContainer) return;

                listContainer.innerHTML = '';

                // 1. Global Score Badge
                const scoreColor = report.global_score >= 85 ? '#bf9a33' : (report.global_score >= 70 ? '#28a745' : '#ffc107');
                const scoreHtml = `
                    <div class="text-center mb-4">
                        <div style="width: 120px; height: 120px; border-radius: 50%; border: 8px solid ${scoreColor}; display: flex; align-items: center; justify-content: center; margin: 0 auto; background: #fff;">
                            <div>
                                <h2 style="color: ${scoreColor}; margin: 0; font-weight: bold;">${report.global_score}</h2>
                                <span style="font-size: 10px; color: #6c757d;">GLOBAL SCORE</span>
                            </div>
                        </div>
                        <h5 class="mt-2" style="color: ${scoreColor}">${report.score_band}</h5>
                    </div>
                `;
                listContainer.innerHTML += scoreHtml;

                // 2. Executive Summary
                if (report.executive_summary && report.executive_summary.length > 0) {
                    let summaryHtml = '<div class="mb-3 p-3 bg-light rounded border-start border-4 border-warning">';
                    summaryHtml += '<h6 class="fw-bold mb-2">Resumo Executivo</h6><ul class="mb-0 ps-3">';
                    report.executive_summary.forEach(item => {
                        summaryHtml += `<li>${item}</li>`;
                    });
                    summaryHtml += '</ul></div>';
                    listContainer.innerHTML += summaryHtml;
                }

                // 3. Dimensions Bars
                let dimsHtml = '<div class="row g-3">';
                for (const [dim, score] of Object.entries(report.dimensions)) {
                    // Normalize 0-20 to 0-100%
                    const pct = (score / 20) * 100;
                    const cName = dim.charAt(0).toUpperCase() + dim.slice(1);
                    dimsHtml += `
                        <div class="col-6">
                            <label class="small text-muted d-block">${cName}</label>
                            <div class="progress" style="height: 6px;">
                                <div class="progress-bar" role="progressbar" style="width: ${pct}%; background-color: #343a40;" aria-valuenow="${pct}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <small class="float-end fw-bold">${score}/20</small>
                        </div>
                    `;
                }
                dimsHtml += '</div><hr class="my-3">';
                listContainer.innerHTML += dimsHtml;

                // 4. Roadmap / Quick Wins (Optional Highlight)
                if (report.roadmap && report.roadmap.quick_wins.length > 0) {
                    let winsHtml = '<p class="fw-bold mb-1"><i class="fas fa-bolt text-warning"></i> Melhorias Imediatas:</p><ul class="small text-muted ps-3">';
                    report.roadmap.quick_wins.forEach(win => {
                        winsHtml += `<li>${win}</li>`;
                    });
                    winsHtml += '</ul>';
                    listContainer.innerHTML += winsHtml;
                }
            }

            if (revisaoCvForm) {
                revisaoCvForm.addEventListener('submit', function (e) {
                    e.preventDefault();

                    // Validação de Termos
                    const termsCheckbox = document.getElementById('revisaoCvTerms');
                    if (termsCheckbox && !termsCheckbox.checked) {
                        alert("Por favor, aceite a Política de Privacidade para continuar.");
                        termsCheckbox.focus();
                        return;
                    }

                    const submitBtn = revisaoCvForm.querySelector('button[type="submit"]');
                    const formMessage = document.getElementById('revisaoCvFormMessage');
                    const formData = new FormData(revisaoCvForm);

                    // Adicionar timestamp e ID do pedido
                    formData.append('orderId', 'CV-' + Date.now());

                    // Desabilitar botão
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> A processar pagamento...';
                    formMessage.innerHTML = '';

                    // Enviar para o backend (que vai tratar do MB WAY e do Email)
                    fetch('https://share2inspire-beckend.lm.r.appspot.com/api/services/cv-review', {
                        method: 'POST',
                        body: formData
                    })
                        .then(response => response.json())
                        .then(result => {
                            if (result.success) {
                                formMessage.innerHTML = `
                                <div class="alert alert-success">
                                    <h4><i class="fas fa-check-circle"></i> Pedido Recebido!</h4>
                                    <p>Por favor, aceite o pagamento de <strong>15.00€</strong> na sua aplicação MB WAY.</p>
                                    <hr>
                                    <p class="small mb-3">O seu CV foi enviado para análise. Receberá o feedback em 5 dias úteis após a confirmação do pagamento.</p>
                                    <button onclick="window.location.reload()" class="btn btn-outline-success btn-sm w-100">
                                        <i class="fas fa-plus-circle"></i> Submeter Novo Pedido
                                    </button>
                                </div>
                                `;
                                revisaoCvForm.reset();
                                if (analysisResults) analysisResults.style.display = 'none';
                                submitBtn.style.display = 'none';
                            } else {
                                throw new Error(result.error || 'Erro desconhecido');
                            }
                        })
                        .catch(error => {
                            console.error('Erro:', error);
                            formMessage.innerHTML = `<div class="alert alert-danger">Erro ao enviar pedido: ${error.message}</div>`;
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = '<i class="fas fa-lock"></i> Pagar e Solicitar (15.00€)';
                        });
                });
            }
        });
    </script>
</body>

</html>