<!DOCTYPE html>
<html lang="pt-PT">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmação de Pagamento | Share2Inspire</title>
    <meta name="robots" content="noindex, nofollow">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="../css/consolidated-styles.css">

    <style>
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 0;
        }

        .confirmation-container {
            max-width: 600px;
            width: 100%;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .confirmation-header {
            background: linear-gradient(135deg, #BF9A33 0%, #D4AF37 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .confirmation-header i {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        .confirmation-body {
            padding: 2.5rem 2rem;
        }

        .status-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .status-pending {
            background: #FFF3CD;
            color: #856404;
            border: 2px solid #FFE69C;
        }

        .status-confirmed {
            background: #D1E7DD;
            color: #0A3622;
            border: 2px solid #A3CFBB;
        }

        .payment-details {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .payment-details .row div {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .payment-details .row div:last-child {
            border-bottom: none;
        }

        .payment-details strong {
            color: #333;
        }

        .payment-details .value {
            color: #666;
            text-align: right;
        }

        .mb-way-instructions {
            background: linear-gradient(135deg, rgba(191, 154, 51, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border-left: 4px solid #BF9A33;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .mb-way-instructions h5 {
            color: #BF9A33;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .mb-way-instructions ol {
            margin: 0;
            padding-left: 1.2rem;
        }

        .mb-way-instructions li {
            margin-bottom: 0.5rem;
            color: #555;
        }

        .multibanco-ref {
            background: #fff;
            border: 2px solid #BF9A33;
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
            text-align: center;
        }

        .multibanco-ref h5 {
            color: #BF9A33;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .ref-item {
            margin: 1rem 0;
        }

        .ref-item label {
            font-size: 0.85rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 0.5rem;
        }

        .ref-item .ref-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            font-family: 'Courier New', monospace;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .cta-buttons a {
            flex: 1;
            padding: 14px 24px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
        }

        .btn-primary-custom {
            background: #BF9A33;
            color: white;
        }

        .btn-primary-custom:hover {
            background: #a57b0a;
            transform: translateY(-2px);
        }

        .btn-secondary-custom {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e9ecef;
        }

        .btn-secondary-custom:hover {
            background: #e9ecef;
        }

        .footer-note {
            text-align: center;
            padding: 2rem;
            color: #999;
            font-size: 0.85rem;
        }
    </style>
</head>

<body>
    <div class="confirmation-container">
        <!-- Header -->
        <div class="confirmation-header">
            <i class="fas fa-check-circle"></i>
            <h2 style="margin: 0; font-weight: 700;">Pedido Recebido!</h2>
            <p style="margin: 0.5rem 0 0 0; opacity: 0.9;">Obrigado pela tua confiança</p>
        </div>

        <!-- Body -->
        <div class="confirmation-body">
            <!-- Status Badge -->
            <div class="text-center">
                <span class="status-badge status-pending" id="statusBadge">
                    <i class="fas fa-clock me-2"></i>Aguarda confirmação de pagamento
                </span>
            </div>

            <!-- Payment Details -->
            <div class="payment-details">
                <h5 style="font-weight: 700; margin-bottom: 1rem; color: #333;">
                    <i class="fas fa-receipt me-2" style="color: #BF9A33;"></i>Detalhes do Pedido
                </h5>
                <div class="row">
                    <div class="col-6"><strong>Serviço:</strong></div>
                    <div class="col-6 value" id="serviceName">CV Review Especializado</div>

                    <div class="col-6"><strong>Email:</strong></div>
                    <div class="col-6 value" id="userEmail">exemplo@email.com</div>

                    <div class="col-6"><strong>Valor:</strong></div>
                    <div class="col-6 value" id="amount"><strong
                            style="color: #BF9A33; font-size: 1.2rem;">20,00€</strong></div>

                    <div class="col-6"><strong>ID Pedido:</strong></div>
                    <div class="col-6 value" id="orderId">#ORDER123456</div>
                </div>
            </div>

            <!-- MB WAY Instructions (Dynamic - shown for MB WAY) -->
            <div class="mb-way-instructions" id="mbwayInstructions">
                <h5><i class="fas fa-mobile-alt me-2"></i>Próximos Passos - MB WAY</h5>
                <ol>
                    <li>Abre a app <strong>MB WAY</strong> no teu telemóvel</li>
                    <li>Verifica a notificação de pagamento pendente</li>
                    <li>Confirma o pagamento de <strong id="mbwayAmount">20,00€</strong></li>
                    <li>Receberás confirmação por email assim que o pagamento for processado</li>
                </ol>
                <p style="margin: 1rem 0 0 0; font-size: 0.9rem; color: #666;">
                    <i class="fas fa-info-circle me-1"></i>
                    O pedido expira em <strong>30 minutos</strong> se não for confirmado.
                </p>
            </div>

            <!-- Multibanco Reference (Dynamic - shown for Multibanco) -->
            <div class="multibanco-ref" id="multibancoRef" style="display: none;">
                <h5><i class="fas fa-university me-2"></i>Referência Multibanco</h5>
                <p style="color: #666; margin-bottom: 1.5rem;">Utiliza os dados abaixo para efetuar o pagamento num
                    terminal Multibanco ou via Homebanking</p>

                <div class="ref-item">
                    <label>Entidade</label>
                    <div class="ref-value" id="mbEntity">12345</div>
                </div>

                <div class="ref-item">
                    <label>Referência</label>
                    <div class="ref-value" id="mbReference">123 456 789</div>
                </div>

                <div class="ref-item">
                    <label>Valor</label>
                    <div class="ref-value" style="color: #BF9A33;" id="mbAmount">20,00€</div>
                </div>

                <p style="margin: 1.5rem 0 0 0; font-size: 0.9rem; color: #666;">
                    <i class="fas fa-clock me-1"></i>
                    Esta referência é válida por <strong>48 horas</strong>
                </p>
            </div>

            <!-- Email Confirmation Note -->
            <div
                style="background: #E7F3FF; border-left: 4px solid #0277BD; padding: 1rem; border-radius: 8px; margin: 1.5rem 0;">
                <p style="margin: 0; color: #01579B; font-size: 0.95rem;">
                    <i class="fas fa-envelope me-2"></i>
                    <strong>Confirmação por Email:</strong> Enviámos os detalhes desta transação para o teu email.
                    Assim que o pagamento for confirmado, receberás outro email com o acesso ao serviço.
                </p>
            </div>

            <!-- CTA Buttons -->
            <div class="cta-buttons">
                <a href="../index.html" class="btn-secondary-custom">
                    <i class="fas fa-home me-2"></i>Voltar ao Início
                </a>
                <a href="servicos.html" class="btn-primary-custom">
                    <i class="fas fa-th me-2"></i>Ver Serviços
                </a>
            </div>
        </div>

        <!-- Footer Note -->
        <div class="footer-note">
            <p style="margin: 0;">
                Questões? Contacta-nos: <strong>srshare2inspire@gmail.com</strong> | +351 961 925 050
            </p>
            <p style="margin: 0.5rem 0 0 0;">
                © 2025 Share2Inspire. Pagamento seguro via <strong>Ifthenpay</strong>
            </p>
        </div>
    </div>

    <!-- Dynamic Content Script -->
    <script>
        // Parse URL parameters to customize page
        const urlParams = new URLSearchParams(window.location.search);

        // Update content based on URL params
        if (urlParams.get('service')) {
            document.getElementById('serviceName').textContent = urlParams.get('service');
        }

        if (urlParams.get('email')) {
            document.getElementById('userEmail').textContent = urlParams.get('email');
        }

        if (urlParams.get('amount')) {
            const amount = urlParams.get('amount');
            document.getElementById('amount').innerHTML = `<strong style="color: #BF9A33; font-size: 1.2rem;">${amount}€</strong>`;
            document.getElementById('mbwayAmount').textContent = `${amount}€`;
            if (document.getElementById('mbAmount')) {
                document.getElementById('mbAmount').textContent = `${amount}€`;
            }
        }

        if (urlParams.get('orderId')) {
            document.getElementById('orderId').textContent = '#' + urlParams.get('orderId');
        }

        // Show appropriate payment method instructions
        const paymentMethod = urlParams.get('method') || 'mbway';

        if (paymentMethod === 'multibanco') {
            document.getElementById('mbwayInstructions').style.display = 'none';
            document.getElementById('multibancoRef').style.display = 'block';

            // Populate Multibanco refs if provided
            if (urlParams.get('entity')) {
                document.getElementById('mbEntity').textContent = urlParams.get('entity');
            }
            if (urlParams.get('reference')) {
                document.getElementById('mbReference').textContent = urlParams.get('reference');
            }
        }

        // Handle confirmed status
        if (urlParams.get('status') === 'confirmed') {
            const badge = document.getElementById('statusBadge');
            badge.className = 'status-badge status-confirmed';
            badge.innerHTML = '<i class="fas fa-check-circle me-2"></i>Pagamento Confirmado!';

            // Hide payment instructions
            document.getElementById('mbwayInstructions').style.display = 'none';
            if (document.getElementById('multibancoRef')) {
                document.getElementById('multibancoRef').style.display = 'none';
            }

            // Show success message
            const successMsg = document.createElement('div');
            successMsg.style.cssText = 'background: #D1E7DD; border-left: 4px solid #0F5132; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;';
            successMsg.innerHTML = `
                <p style="margin: 0; color: #0A3622; font-size: 1rem;">
                    <i class="fas fa-check-circle me-2" style="color: #198754;"></i>
                    <strong>Sucesso!</strong> O teu pagamento foi confirmado. Em breve receberás um email com o acesso ao serviço contratado.
                </p>
            `;
            document.querySelector('.confirmation-body').insertBefore(successMsg, document.querySelector('.payment-details').nextSibling);
        }
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>